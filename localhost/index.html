<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Http Ws</title>
    <style>
    
    </style>
</head>
<body>
    <input type="text">
    <button id="sendbtn">SEND</button>
    <div id="messages">

    </div>
    <script>
        function ConsoleWriteLine(message, color) {
            var div = document.createElement('div');
            div.style.color = color;
            div.innerText = message;
            document.querySelector('#messages').appendChild(div);
        }

        document.querySelector('#sendbtn').onclick = function(e) {
            var message = document.querySelector('input').value;
            socket.send(message);
            ConsoleWriteLine('<-'+message, 'black');
        }

        socket = new WebSocket('ws://192.168.0.111:2778/');
        socket.onopen = function(evt) { 
                console.log('onopen'); 
                console.log(evt); 
                ConsoleWriteLine('connection opened', 'green');
            };
        socket.onclose = function(evt) { 
                console.log('onclose'); 
                console.log(evt); 
                ConsoleWriteLine('connection closed', 'green');
            };
        socket.onmessage = function(evt) { 
                console.log('onmessage'); 
                console.log(evt);
                ConsoleWriteLine('->'+evt.data, 'black');
            };
        socket.onerror = function(evt) { 
                console.log('onerror'); 
                console.log(evt); 
                ConsoleWriteLine('error', 'red');
            };
    </script>
</body>
</html>